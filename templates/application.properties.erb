<% base = 'aem_orchestrator::config::' -%>

<%- if scope[base + 'endpoints_enabled'] != nil -%>
  <%--%>endpoints.enabled=<%= scope[base + 'endpoints_enabled'] %>
<%- end -%>
<%- if scope[base + 'endpoints_health_enabled'] != nil -%>
  <%--%>endpoints.health.enabled=<%= scope[base + 'endpoints_health_enabled'] %>
<%- end -%>

<%- if scope[base + 'aws_client_protocol'] != nil -%>
  <%--%>aws.client.protocol=<%= scope[base + 'aws_client_protocol'] %>
<%- end -%>
<%- if scope[base + 'aws_client_proxy_host'] != nil -%>
  <%--%>aws.client.proxy.host=<%= scope[base + 'aws_client_proxy_host'] %>
<%- end -%>
<%- if scope[base + 'aws_client_proxy_port'] != nil -%>
  <%--%>aws.client.proxy.port=<%= scope[base + 'aws_client_proxy_port'] %>
<%- end -%>
<%- if scope[base + 'aws_client_connection_timeout'] != nil -%>
  <%--%>aws.client.connection.timeout=<%= scope[base + 'aws_client_connection_timeout'] %>
<%- end -%>
<%- if scope[base + 'aws_client_error_retry'] != nil -%>
  <%--%>aws.client.max.errorRetry=<%= scope[base + 'aws_client_error_retry'] %>
<%- end -%>

<%- if scope[base + 'sqs_queue_name'] != nil -%>
  <%--%>aws.sqs.queueName=<%= scope[base + 'sqs_queue_name'] %>
<%- end -%>

<%- ['replicator', 'orchestrator'].each do |var| -%>
  <%- baseVar = base + var -%>
  <%- if scope[baseVar + '_username'] != nil -%>
    <%--%>aem.<%= var %>.username=<%= scope[baseVar + '_username'] %>
  <%- end -%>
  <%- if scope[baseVar + '_password'] != nil -%>
    <%--%>aem.<%= var %>.username=<%= scope[baseVar + '_password'] %>
  <%- end -%>
<%- end -%>

<%- ['publisherDispatcher', 'publisher', 'authorDispatcher'].each do |var| -%>
  <%- baseVar = base + var.gsub(/(.)([A-Z])/,'\1_\2').downcase -%>
  <%- if scope[baseVar + '_group_name'] != nil -%>
    <%--%>aws.autoscale.group.name.<%= var %>=<%= scope[baseVar + '_group_name'] %>
  <%- end -%>
  <%- if scope[baseVar + '_protocol'] != nil -%>
    <%--%>aem.protocol.<%= var %>=<%= scope[baseVar + '_protocol'] %>
  <%- end -%>
  <%- if scope[baseVar + '_port'] != nil -%>
    <%--%>aem.port.<%= var %>=<%= scope[baseVar + '_port'] %>
  <%- end -%>
<%- end -%>
